(function(e){function t(t){for(var o,n,r=t[0],l=t[1],c=t[2],u=0,h=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&h.push(a[n][0]),a[n]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);p&&p(t);while(h.length)h.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],o=!0,r=1;r<i.length;r++){var l=i[r];0!==a[l]&&(o=!1)}o&&(s.splice(t--,1),e=n(n.s=i[0]))}return e}var o={},a={app:0},s=[];function n(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=o,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var p=l;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},4982:function(e,t,i){"use strict";var o=i("62b2"),a=i.n(o);a.a},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var o=i("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{ref:"box",staticClass:"box"}),i("div",{staticClass:"operate",style:{width:e.showSide?"30vw":0}},[i("div",{staticClass:"control",on:{click:e.changeShowSide}},[e._v(" "+e._s(e.showSide?">>>":"<<<")+" ")]),i("div",{staticClass:"title"},[e._v("自定义模型构建")]),i("div",{staticClass:"homeTable"},[i("div",{staticClass:"table-title"},[i("span",{staticStyle:{"margin-right":"5vw"}},[e._v("房屋列表")]),i("el-button",{staticStyle:{"margin-right":"5vw"},attrs:{type:"success",size:"mini"},on:{click:function(t){return e.changeOperateState("create")}}},[e._v("+ 添加房屋")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.openHelper}},[e._v(e._s(e.isShowHelper?"关闭坐标系":"打开坐标系"))])],1),i("div",{staticClass:"table-title-sub"},[e._v("注：贴图方向以x轴正方向为前! 坐标系橙色为X轴,绿色为Y轴,蓝色为Z轴")]),i("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.cubeData,height:"238",border:""}},[i("el-table-column",{attrs:{prop:"name",label:"名称",width:"80"}}),i("el-table-column",{attrs:{prop:"size",label:"大小(x,y,z)",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("[ "+t.row.size.toString()+" ]"))]}}])}),i("el-table-column",{attrs:{prop:"pos",label:"位置(x,y,z)",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("[ "+t.row.pos.toString()+" ]"))]}}])}),i("el-table-column",{attrs:{prop:"face",label:"贴图(前,后,上,下,左,右)",width:"190"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("[ "+t.row.face.map((function(t){return e.picList.indexOf(t)>-1?"图"+(e.picList.indexOf(t)+1):"无"})).toString()+" ]")+" ")]}}])}),i("el-table-column",{attrs:{prop:"repeat",label:"贴图repeat(x,y)",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("[ "+t.row.repeat.toString()+" ]"))]}}])}),i("el-table-column",{attrs:{prop:"rotate",label:"旋转(x,y,z)",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("[ "+t.row.rotate.toString()+" ]"))]}}])}),i("el-table-column",{attrs:{prop:"show",label:"显示",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("input",{attrs:{type:"checkbox"},domProps:{checked:t.row.show},on:{change:function(i){return e.changeShowState(t.row)}}})]}}])}),i("el-table-column",{attrs:{prop:"show",label:"操作",align:"center",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){return e.configHomeData(t.row)}}},[e._v("修改")]),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){return e.deleteCube(t.row)}}},[e._v("删除")])]}}])})],1)],1),i("div",{staticClass:"picList"},[e.picList.length>3?i("div",{staticClass:"change-box"},[i("div",{staticClass:"change-left",on:{click:e.changeLeft}},[e._v("<")]),i("div",{staticClass:"change-right",on:{click:e.changeRight}},[e._v(">")])]):e._e(),i("div",{staticClass:"picList-title"},[i("span",{staticStyle:{"margin-right":"5vw"}},[e._v("贴图列表")]),i("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.changeImg}},[e._v(e._s(e.isShowImg?"取消贴图":"一键贴图"))])],1),i("div",{staticClass:"picList-main",staticStyle:{"margin-top":"3vh"}},[i("div",{ref:"picList",staticClass:"picList-inner"},[e._l(e.picList,(function(t,o){return[i("div",{key:o,staticClass:"picList-sub"},[i("div",{staticClass:"pic-index"},[e._v("图"+e._s(o+1))]),i("img",{attrs:{src:t,alt:""}})])]}))],2)])]),i("div",{staticClass:"treeTable"}),i("div",{class:{"operate-data":!0,"operate-data-show":"show"!==e.operateState}},[i("div",{staticClass:"returnBtn",on:{click:e.returnBtnEvent}},[i("svg",{staticClass:"icon",attrs:{t:"1590760054907",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1226",width:"30",height:"30"}},[i("path",{attrs:{d:"M916.3 466.3H218.1l288.4-288.4c17.8-17.8 17.8-46.9 0-64.7-17.8-17.8-46.9-17.8-64.7 0L75.3 479.7c-17.8 17.8-17.8 46.9 0 64.7l366.5 366.5c17.8 17.8 46.9 17.8 64.7 0 17.8-17.8 17.8-46.9 0-64.7L218.1 557.7h698.2c25.2 0 45.7-20.6 45.7-45.7 0-25.2-20.6-45.7-45.7-45.7z",fill:"","p-id":"1227"}})])]),i("el-form",{ref:"homeForm",staticClass:"demo-homeForm",attrs:{model:e.homeForm,"label-width":"100px",size:"small"}},[i("div",{staticClass:"homeForm-title"},[e._v(e._s("create"===e.operateState?"创建房屋":"修改房屋"))]),i("el-form-item",{attrs:{label:"房屋名称",prop:"name"}},[i("el-input",{model:{value:e.homeForm.name,callback:function(t){e.$set(e.homeForm,"name",t)},expression:"homeForm.name"}})],1),i("el-form-item",{attrs:{label:"房屋大小:",prop:"sizeX"}},[i("div",{staticClass:"flexRow"},[i("div",{staticClass:"flexRow",staticStyle:{"margin-right":"1vh"}},[e._v("宽:"),i("el-input",{nativeOn:{keyup:function(t){return e.limitNum("sizeX",t)}},model:{value:e.homeForm.sizeX,callback:function(t){e.$set(e.homeForm,"sizeX",t)},expression:"homeForm.sizeX"}})],1),i("div",{staticClass:"flexRow",staticStyle:{"margin-right":"1vh"}},[e._v("高:"),i("el-input",{nativeOn:{keyup:function(t){return e.limitNum("sizeY",t)}},model:{value:e.homeForm.sizeY,callback:function(t){e.$set(e.homeForm,"sizeY",t)},expression:"homeForm.sizeY"}})],1),i("div",{staticClass:"flexRow"},[e._v("深:"),i("el-input",{nativeOn:{keyup:function(t){return e.limitNum("sizeZ",t)}},model:{value:e.homeForm.sizeZ,callback:function(t){e.$set(e.homeForm,"sizeZ",t)},expression:"homeForm.sizeZ"}})],1)]),i("p",{staticStyle:{"font-size":"1.5vh",color:"red"}},[e._v("注: 请输入数字!")])]),i("el-form-item",{attrs:{label:"房屋位置:",prop:"posX"}},[i("div",{staticClass:"flexRow"},[i("div",{staticClass:"flexRow",staticStyle:{"margin-right":"1vh"}},[e._v("X:"),i("el-input",{nativeOn:{keyup:function(t){return e.limitNum("posX",t)}},model:{value:e.homeForm.posX,callback:function(t){e.$set(e.homeForm,"posX",t)},expression:"homeForm.posX"}})],1),i("div",{staticClass:"flexRow",staticStyle:{"margin-right":"1vh"}},[e._v("Y:"),i("el-input",{nativeOn:{keyup:function(t){return e.limitNum("posY",t)}},model:{value:e.homeForm.posY,callback:function(t){e.$set(e.homeForm,"posY",t)},expression:"homeForm.posY"}})],1),i("div",{staticClass:"flexRow"},[e._v("Z:"),i("el-input",{nativeOn:{keyup:function(t){return e.limitNum("posZ",t)}},model:{value:e.homeForm.posZ,callback:function(t){e.$set(e.homeForm,"posZ",t)},expression:"homeForm.posZ"}})],1)]),i("p",{staticStyle:{"font-size":"1.5vh",color:"red"}},[e._v("注: 房屋位置为房屋中心点所在位置!")])]),i("el-form-item",{attrs:{label:"房屋贴图:",prop:"sizeX"}},[i("div",{staticClass:"flexRow",staticStyle:{"margin-bottom":"3vh"}},[i("div",{staticClass:"flexRow",staticStyle:{"margin-right":"1vh"}},[e._v(" 前:"),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.homeForm.faceQ,callback:function(t){e.$set(e.homeForm,"faceQ",t)},expression:"homeForm.faceQ"}},[i("el-option",{attrs:{label:"无",value:""}}),e._l(e.picList,(function(e,t){return i("el-option",{key:t,attrs:{label:"图"+(t+1),value:e}})}))],2)],1),i("div",{staticClass:"flexRow",staticStyle:{"margin-right":"1vh"}},[e._v(" 左:"),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.homeForm.faceZ,callback:function(t){e.$set(e.homeForm,"faceZ",t)},expression:"homeForm.faceZ"}},[i("el-option",{attrs:{label:"无",value:""}}),e._l(e.picList,(function(e,t){return i("el-option",{key:t,attrs:{label:"图"+(t+1),value:e}})}))],2)],1),i("div",{staticClass:"flexRow"},[e._v(" 上:"),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.homeForm.faceS,callback:function(t){e.$set(e.homeForm,"faceS",t)},expression:"homeForm.faceS"}},[i("el-option",{attrs:{label:"无",value:""}}),e._l(e.picList,(function(e,t){return i("el-option",{key:t,attrs:{label:"图"+(t+1),value:e}})}))],2)],1)]),i("div",{staticClass:"flexRow"},[i("div",{staticClass:"flexRow",staticStyle:{"margin-right":"1vh"}},[e._v(" 后:"),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.homeForm.faceH,callback:function(t){e.$set(e.homeForm,"faceH",t)},expression:"homeForm.faceH"}},[i("el-option",{attrs:{label:"无",value:""}}),e._l(e.picList,(function(e,t){return i("el-option",{key:t,attrs:{label:"图"+(t+1),value:e}})}))],2)],1),i("div",{staticClass:"flexRow",staticStyle:{"margin-right":"1vh"}},[e._v(" 右:"),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.homeForm.faceY,callback:function(t){e.$set(e.homeForm,"faceY",t)},expression:"homeForm.faceY"}},[i("el-option",{attrs:{label:"无",value:""}}),e._l(e.picList,(function(e,t){return i("el-option",{key:t,attrs:{label:"图"+(t+1),value:e}})}))],2)],1),i("div",{staticClass:"flexRow"},[e._v(" 下:"),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.homeForm.faceX,callback:function(t){e.$set(e.homeForm,"faceX",t)},expression:"homeForm.faceX"}},[i("el-option",{attrs:{label:"无",value:""}}),e._l(e.picList,(function(e,t){return i("el-option",{key:t,attrs:{label:"图"+(t+1),value:e}})}))],2)],1)])]),i("el-form-item",{attrs:{label:"贴图repeat:",prop:"repeatX"}},[i("div",{staticClass:"flexRow"},[i("div",{staticClass:"flexRow",staticStyle:{"margin-right":"5vh"}},[e._v("X："),i("el-input",{nativeOn:{keyup:function(t){return e.limitNum("repeatX",t)}},model:{value:e.homeForm.repeatX,callback:function(t){e.$set(e.homeForm,"repeatX",t)},expression:"homeForm.repeatX"}})],1),i("div",{staticClass:"flexRow"},[e._v("Y："),i("el-input",{nativeOn:{keyup:function(t){return e.limitNum("repeatY",t)}},model:{value:e.homeForm.repeatY,callback:function(t){e.$set(e.homeForm,"repeatY",t)},expression:"homeForm.repeatY"}})],1)]),i("p",{staticStyle:{"font-size":"1.5vh",color:"red"}},[e._v("注: 请输入数字!")])]),i("el-form-item",{attrs:{label:"房屋旋转:",prop:"rotateX"}},[i("div",{staticClass:"flexRow"},[i("div",{staticClass:"flexRow",staticStyle:{"margin-right":"1vh"}},[e._v("X:"),i("el-input",{nativeOn:{keyup:function(t){return e.limitNum("rotateX",t)}},model:{value:e.homeForm.rotateX,callback:function(t){e.$set(e.homeForm,"rotateX",t)},expression:"homeForm.rotateX"}})],1),i("div",{staticClass:"flexRow",staticStyle:{"margin-right":"1vh"}},[e._v("Y:"),i("el-input",{nativeOn:{keyup:function(t){return e.limitNum("rotateY",t)}},model:{value:e.homeForm.rotateY,callback:function(t){e.$set(e.homeForm,"rotateY",t)},expression:"homeForm.rotateY"}})],1),i("div",{staticClass:"flexRow"},[e._v("Z:"),i("el-input",{nativeOn:{keyup:function(t){return e.limitNum("rotateZ",t)}},model:{value:e.homeForm.rotateZ,callback:function(t){e.$set(e.homeForm,"rotateZ",t)},expression:"homeForm.rotateZ"}})],1)]),i("p",{staticStyle:{"font-size":"1.5vh",color:"red"}},[e._v("注: 请输入数字!")])]),i("el-form-item",[i("el-button",{staticStyle:{margin:"1vh 1vh 0 0",width:"5vw"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v(e._s("create"===e.operateState?"立即创建":"立即修改"))]),i("el-button",{staticStyle:{width:"5vw","margin-right":"1vh"},attrs:{type:"primary"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")]),i("el-button",{attrs:{type:"primary"},on:{click:e.openHelper}},[e._v(e._s(e.isShowHelper?"关闭坐标系":"打开坐标系"))])],1)],1),i("div",{staticClass:"picList"},[e.picList.length>3?i("div",{staticClass:"change-box"},[i("div",{staticClass:"change-left",on:{click:e.changeLeft2}},[e._v("<")]),i("div",{staticClass:"change-right",on:{click:e.changeRight2}},[e._v(">")])]):e._e(),i("div",{staticClass:"picList-title"},[e._v("贴图列表")]),i("div",{staticClass:"picList-main"},[i("div",{ref:"picList2",staticClass:"picList-inner"},[e._l(e.picList,(function(t,o){return[i("div",{key:o,staticClass:"picList-sub"},[i("div",{staticClass:"pic-index"},[e._v("图"+e._s(o+1))]),i("img",{attrs:{src:t,alt:""}})])]}))],2)])])],1)])])},s=[],n=(i("4160"),i("c975"),i("a434"),i("b0c0"),i("ac1f"),i("38cf"),i("5319"),i("159b"),i("d81d"),i("4478")),r=i("2909"),l=i("5a89"),c=i("4721"),p=i("34ad"),u=i("a201");function h(e,t){var i,o,a,s;return o=e.getBoundingClientRect(),a=o.width,s=o.height,i=new l["WebGLRenderer"]({antialias:!0,alpha:!0}),i.setSize(a,s),e.appendChild(i.domElement),t&&i.setClearColor(t[0],1),!t&&i.setClearColor(16777215,1),i}function m(){return new l["Scene"]}function d(e,t){var i;i="orthographic"===e.type?Object(n["a"])(l["OrthographicCamera"],Object(r["a"])(e.data)):Object(n["a"])(l["PerspectiveCamera"],Object(r["a"])(e.data));var o=t||{};return i.position.x=o.pos?t.pos[0]:0,i.position.y=o.pos?t.pos[1]:0,i.position.z=o.pos?t.pos[2]:300,i.up.x=o.up?o.up[0]:0,i.up.y=o.up?o.up[1]:1,i.up.z=o.up?o.up[2]:0,o.lookAt&&i.lookAt({x:o.lookAt[0],y:o.lookAt[1],z:o.lookAt[2]}),i}function f(e,t,i,o){var a,s;switch(e){case"point":s=Object(n["a"])(l["PointLight"],Object(r["a"])(t));break;case"ambient":default:s=Object(n["a"])(l["AmbientLight"],Object(r["a"])(t))}return i&&(a=s.position).set.apply(a,Object(r["a"])(i)),!i&&s.position.set(0,0,200),o&&o.add(s),s}function g(e,t,i,o,a,s,n,c){var p,u,h,m,d=c?25856:6645093,f=new l["CubeGeometry"](1,1,1),g=t.map((function(e){var t;return e&&n?(m=(new l["TextureLoader"]).load(e),m.wrapS=l["RepeatWrapping"],m.wrapT=l["RepeatWrapping"],(t=m.repeat).set.apply(t,Object(r["a"])(a)),new l["MeshPhongMaterial"]({map:m})):new l["MeshLambertMaterial"]({color:d})})),v=new l["Mesh"](f,g);return(p=v.scale).set.apply(p,Object(r["a"])(e)),i&&(u=v.position).set.apply(u,Object(r["a"])(i)),!i&&v.position.set(e[0]/2,e[1]/2,e[2]/2),(h=v.rotation).set.apply(h,Object(r["a"])(o)),s&&s.add(v),v}function v(e){e(),requestAnimationFrame(v.bind(null,e))}function b(){var e=new l["AxesHelper"](300),t=new l["GridHelper"](400,20,16711935,65280);return[e,t]}function w(e){e.background=(new l["CubeTextureLoader"]).load(["/px.jpg","/nx.jpg","/py.jpg","/ny.jpg","/pz.jpg","/nz.jpg"])}function y(e,t,i,o,a){var s,c,p=Object(n["a"])(l["PlaneBufferGeometry"],Object(r["a"])(e)),h=new u["a"](p,{waterNormals:(new l["TextureLoader"]).load("/water.jpg",(function(e){e.wrapS=e.wrapT=l["RepeatWrapping"]})),alpha:1,sunDirection:o.position.clone().normalize(),sunColor:16777215,waterColor:5609983,distortionScale:5.7,flowDirection:new l["Vector2"](-60,0),textureWidth:2048,textureHeight:2048});return(s=h.position).set.apply(s,Object(r["a"])(t)),(c=h.rotation).set.apply(c,Object(r["a"])(i)),a.add(h),h}function k(e,t,i){var o=new c["a"](e,t.domElement);i&&o.addEventListener("change",i)}function S(e,t,i,o,a,s){var n,c;switch(console.log(99999,e,t,i,o),e){case"gltf":default:n=new p["a"],n.load(t,(function(e){var t,n;c=e.scene,e.scene.traverse((function(e){if(e instanceof l["Mesh"]&&e.material instanceof l["Material"]){var t=e.material.clone();t.side=l["DoubleSide"],e.material=t}})),(t=c.scale).set.apply(t,Object(r["a"])(o)),(n=c.position).set.apply(n,Object(r["a"])(i)),a.add(c),s&&s(c)}),void 0,(function(e){console.error(e)}))}}function _(e,t,i,o){S("gltf","/".concat(e,"/scene.gltf"),t,i,o)}var x={name:"App",data:function(){return{renderer:"",scene:"",camera:"",width:1e3,height:1e3,light:"",pointLight:"",cube:"",helper:"",water:"",water2:"",showSide:!1,picList:["/juminlou.png","louback.png","louside.png","louding.png","juminlou1.png","juminlou2.png","juminlou3.png"],picListMove:0,picListMove2:0,showOpeateData:!1,operateState:"show",needConfig:"",isShowHelper:!1,isShowImg:!1,cubeData:[{id:0,name:"#1",size:[84,60,40],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[-23.5,30,-82],rotate:[0,.07,0],repeat:[1,1],show:!0,cur:null},{id:1,name:"#2",size:[150,60,40],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[27,30,-20],rotate:[0,.06,0],repeat:[2,1],show:!0,cur:null},{id:2,name:"#3",size:[132,60,43],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[30,30,55],rotate:[0,.07,0],repeat:[2,1],show:!0,cur:null},{id:3,name:"#4",size:[130,60,38],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[35,30,118],rotate:[0,.07,0],repeat:[2,1],show:!0,cur:null},{id:4,name:"#5",size:[125,60,42],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[180,30,-7],rotate:[0,-.08,0],repeat:[2,1],show:!0,cur:null},{id:5,name:"#6",size:[120,60,41],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[193,30,103],rotate:[0,.07,0],repeat:[2,1],show:!0,cur:null},{id:6,name:"#7",size:[120,60,41],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[-300,30,103],rotate:[0,0,0],repeat:[2,1],show:!0,cur:null},{id:7,name:"#8",size:[120,60,41],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[-300,30,103],rotate:[0,0,0],repeat:[2,1],show:!0,cur:null},{id:8,name:"#9",size:[120,60,41],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[-300,30,3],rotate:[0,0,0],repeat:[2,1],show:!0,cur:null},{id:9,name:"#10",size:[120,60,41],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[-300,30,-103],rotate:[0,0,0],repeat:[2,1],show:!0,cur:null},{id:10,name:"#11",size:[130,60,38],face:["/louside.png","/louside.png","/louding.png","","/louback.png","/juminlou.png"],pos:[35,30,200],rotate:[0,0,0],repeat:[2,1],show:!0,cur:null},{id:11,name:"#12",size:[130,60,38],face:["/louside.png","/louside.png","/louding.png","","/louback.png","/juminlou.png"],pos:[195,30,200],rotate:[0,0,0],repeat:[2,1],show:!0,cur:null},{id:12,name:"#13",size:[100,60,38],face:["/louside.png","/louside.png","/louding.png","","/louback.png","/juminlou.png"],pos:[335,30,200],rotate:[0,0,0],repeat:[2,1],show:!0,cur:null},{id:13,name:"#14",size:[100,60,38],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[335,30,110],rotate:[0,0,0],repeat:[2,1],show:!0,cur:null},{id:14,name:"#15",size:[100,60,38],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[335,30,-20],rotate:[0,0,0],repeat:[2,1],show:!0,cur:null},{id:15,name:"#16",size:[100,60,38],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[335,30,-100],rotate:[0,0,0],repeat:[2,1],show:!0,cur:null},{id:16,name:"#17",size:[100,60,38],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[335,30,-190],rotate:[0,0,0],repeat:[2,1],show:!0,cur:null},{id:17,name:"#18",size:[84,60,40],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[-23.5,30,-182],rotate:[0,.07,0],repeat:[1,1],show:!0,cur:null},{id:18,name:"#19",size:[100,60,38],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[185,30,-100],rotate:[0,0,0],repeat:[1,1],show:!0,cur:null},{id:19,name:"#20",size:[100,60,38],face:["/louside.png","/louside.png","/louding.png","","/juminlou.png","/louback.png"],pos:[185,30,-190],rotate:[0,0,0],repeat:[1,1],show:!0,cur:null}],treeData:[{id:24,type:"songshu",pos:[-75,3,-155],scale:[.05,.05,.05]},{id:25,type:"songshu",pos:[-75,3,-55],scale:[.05,.05,.05]},{id:26,type:"songshu",pos:[-75,3,55],scale:[.05,.05,.05]},{id:26,type:"songshu",pos:[-75,3,195],scale:[.05,.05,.05]},{id:27,type:"songshu",pos:[-135,3,-155],scale:[.05,.05,.05]},{id:28,type:"songshu",pos:[-135,3,-55],scale:[.05,.05,.05]},{id:29,type:"songshu",pos:[-135,3,55],scale:[.05,.05,.05]},{id:31,type:"songshu",pos:[-135,3,195],scale:[.05,.05,.05]}],homeForm:{name:"",sizeX:"",sizeY:"",sizeZ:"",posX:"",posY:"",posZ:"",faceQ:"",faceH:"",faceZ:"",faceY:"",faceS:"",faceX:"",repeatX:"",repeatY:"",rotateX:"",rotateY:"",rotateZ:""}}},mounted:function(){var e=this;this.width=this.$refs.box.getBoundingClientRect().width,this.height=this.$refs.box.getBoundingClientRect().height,this.renderer=h(this.$refs.box),this.scene=m(),this.camera=d({type:"perspective",data:[45,this.width/this.height,.01,1e5]},{pos:[-240,120,350],lookAt:[0,0,0]}),this.light=f("ambient",[16777215],[0,0,300],this.scene),this.pointLight=f("point",[{color:16777215,intensity:.2}],[500,600,400],this.scene),this.helper=b(),this.water=y([55,365],[-105,2,-40],[-Math.PI/2,0,0],this.pointLight,this.scene),this.water2=y([55,50],[-105,2,200],[-Math.PI/2,0,0],this.pointLight,this.scene),w(this.scene),g([800,1,451],["","","","","",""],[0,-1,0],[0,0,0],[1,1],this.scene),g([800,1,34],["","","","","",""],[0,0,158],[0,0,0],[1,1],this.scene,!1,!0),g([34,1,451],["","","","","",""],[-200,0,0],[0,0,0],[1,1],this.scene,!1,!0),this.cubeData.forEach((function(t){t.cur=g(t.size,t.face,t.pos,t.rotate,t.repeat,e.scene,e.isShowImg)})),this.treeData.forEach((function(t){_(t.type,t.pos,t.scale,e.scene)})),this.control=k(this.camera,this.renderer,v((function(){e.water.material.uniforms["time"].value+=1/60,e.water2.material.uniforms["time"].value+=1/60,e.renderer.render(e.scene,e.camera)}))),document.addEventListener("keydown",this.enterEvent)},beforeDestroy:function(){document.removeEventListener("keydown",this.enterEvent)},methods:{enterEvent:function(e){13===e.keyCode&&"show"!==this.operateState&&this.submitForm()},changeImg:function(){var e=this;this.isShowImg=!this.isShowImg,this.cubeData.forEach((function(t){e.scene.remove(t.cur),t.cur=g(t.size,t.face,t.pos,t.rotate,t.repeat,e.scene,e.isShowImg)}))},openHelper:function(){this.isShowHelper=!this.isShowHelper,this.isShowHelper?(this.scene.add(this.helper[0]),this.scene.add(this.helper[1])):(this.scene.remove(this.helper[0]),this.scene.remove(this.helper[1]))},limitNum:function(e,t){var i=t.target.value.replace(/[^\d|^.^-]/g,"");t.target.value=i,this.$set(this.homeForm,e,i)},changeShowSide:function(){this.showSide=!this.showSide},changeLeft:function(){this.picListMove-=1,this.picListMove<0?this.picListMove=0:this.$refs.picList.style.left=10*-this.picListMove+"vw"},changeRight:function(){this.picListMove+=1,this.picListMove>this.picList.length-3?this.picListMove=this.picList.length-3:this.$refs.picList.style.left=10*-this.picListMove+"vw"},changeLeft2:function(){this.picListMove2-=1,this.picListMove2<0?this.picListMove2=0:this.$refs.picList2.style.left=10*-this.picListMove2+"vw"},changeRight2:function(){this.picListMove2+=1,this.picListMove2>this.picList.length-3?this.picListMove2=this.picList.length-3:this.$refs.picList2.style.left=10*-this.picListMove2+"vw"},changeShowState:function(e){e.show=!e.show,e.show?this.scene.add(e.cur):this.scene.remove(e.cur)},configHomeData:function(e){this.changeOperateState("config"),this.needConfig=e;var t=e.name,i=e.size,o=e.pos,a=e.face,s=e.repeat,n=e.rotate;this.homeForm={name:t,sizeX:i[0],sizeY:i[1],sizeZ:i[2],posX:o[0],posY:o[1],posZ:o[2],faceQ:a[0],faceH:a[1],faceZ:a[4],faceY:a[5],faceS:a[2],faceX:a[3],repeatX:s[0],repeatY:s[1],rotateX:n[0],rotateY:n[1],rotateZ:n[2]},console.log(e)},deleteCube:function(e){this.scene.remove(e.cur),this.cubeData.splice(this.cubeData.indexOf(e),1)},changeOperateState:function(e){this.operateState=e},returnBtnEvent:function(){this.homeForm={name:"",sizeX:"",sizeY:"",sizeZ:"",posX:"",posY:"",posZ:"",faceQ:"",faceH:"",faceZ:"",faceY:"",faceS:"",faceX:"",repeatX:"",repeatY:"",rotateX:"",rotateY:"",rotateZ:""},this.changeOperateState("show"),this.needConfig=""},submitForm:function(){var e=this.homeForm,t=e.name,i=e.sizeX,o=e.sizeY,a=e.sizeZ,s=e.posX,n=e.posY,r=e.posZ,l=e.faceQ,c=e.faceH,p=e.faceZ,u=e.faceY,h=e.faceS,m=e.faceX,d=e.rotateX,f=e.rotateY,v=e.rotateZ,b=e.repeatX,w=e.repeatY;if(!i&&(i=50),!o&&(o=60),!a&&(a=30),!s&&(s=-80),!n&&(n=30),!r&&(r=-30),!d&&(d=0),!f&&(f=0),!v&&(v=0),!b&&(b=1),!w&&(w=1),isNaN(i)||isNaN(o)||isNaN(a))this.$message.error("房屋大小数字格式错误，请重新填写!");else if(isNaN(s)||isNaN(n)||isNaN(r))this.$message.error("房屋位置数字格式错误，请重新填写!");else if(isNaN(b)||isNaN(w))this.$message.error("贴图repeat数字格式错误，请重新填写!");else if(isNaN(d)||isNaN(f)||isNaN(v))this.$message.error("房屋旋转数字格式错误，请重新填写!");else{var y=[+i,+o,+a],k=[+s,+n,+r],S=[l,c,h,m,p,u],_=[+d,+f,+v],x=[+b,+w];if("create"===this.operateState){!t&&(t="#"+this.cubeData.length);var C={id:this.cubeData.length,name:t,size:y,pos:k,face:S,rotate:_,repeat:x,show:!0,cur:null};C.cur=g(C.size,C.face,C.pos,C.rotate,C.repeat,this.scene),this.cubeData.push(C),this.returnBtnEvent()}else if("config"===this.operateState){!t&&(t=this.needConfig.name);var z={id:this.needConfig.id,name:t,size:y,pos:k,face:S,rotate:_,repeat:x,show:this.needConfig.show,cur:this.needConfig.cur};this.scene.remove(this.needConfig.cur),z.cur=g(z.size,z.face,z.pos,z.rotate,z.repeat,this.scene),this.$set(this.cubeData,this.needConfig.id,z),this.needConfig=z}}},resetForm:function(){this.homeForm={name:"",sizeX:"",sizeY:"",sizeZ:"",posX:"",posY:"",posZ:"",faceQ:"",faceH:"",faceZ:"",faceY:"",faceS:"",faceX:"",repeatX:"",repeatY:"",rotateX:"",rotateY:"",rotateZ:""}}}},C=x,z=(i("4982"),i("2877")),L=Object(z["a"])(C,a,s,!1,null,"3072fa04",null),F=L.exports,j=i("5c96"),X=i.n(j);i("0fae");o["default"].config.productionTip=!1,o["default"].use(X.a),new o["default"]({render:function(e){return e(F)}}).$mount("#app")},"62b2":function(e,t,i){}});
//# sourceMappingURL=app.095569e2.js.map